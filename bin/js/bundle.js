var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":4}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector3 = Laya.Vector3;
var Vector2 = Laya.Vector2;
var Label = Laya.Label;
var CameraMoveScript = /** @class */ (function (_super) {
    __extends(CameraMoveScript, _super);
    function CameraMoveScript() {
        var _this = _super.call(this) || this;
        _this.m_lastDistance = 0;
        _this.m_preRadian = 0;
        _this.m_forwardLength = 3;
        _this.m_lookAtPoint = new Vector3();
        _this.m_isTwoFingersTouch = false;
        _this.m_twoFingersDistance = 0;
        _this.IsShowLable = true;
        _this.Is2D = false;
        return _this;
    }
    CameraMoveScript.prototype.onAwake = function () {
        this.Init();
        this.AddEvenets();
        this.RefreshPitchRadian();
        this.RefreshLookAtPoint();
    };
    CameraMoveScript.prototype.onUpdate = function () {
        if (this.IsShowLable)
            this.ShowInfo();
        this.RayCastHit();
        this.CameraToZeroDistance();
    };
    CameraMoveScript.prototype.onDestroy = function () {
        this.RemoveEvents();
    };
    CameraMoveScript.prototype.Init = function () {
        this.m_camera = this.owner;
        this.m_tempVector3 = new Vector3();
        this.m_mousePoint = new Vector2();
        this.m_lastTouchFinger0 = new Vector2();
        this.m_lastTouchFinger1 = new Vector2();
        this.yawPitchRoll = new Laya.Vector3();
        this.resultRotation = new Laya.Quaternion();
        this.tempRotationZ = new Laya.Quaternion();
        this.tempRotationX = new Laya.Quaternion();
        this.tempRotationY = new Laya.Quaternion();
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        if (this.IsShowLable)
            this.m_label = this.createLabel(new Vector2(10, 10));
        this.InitDiffPlatform();
    };
    /**
     * 不同平台不同配置，从json文件中读取
     */
    CameraMoveScript.prototype.InitDiffPlatform = function () {
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_3dMoveSpeed = 0.02;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -30;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_3dMoveSpeed = 0.04;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -30;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
    };
    CameraMoveScript.prototype.AddEvenets = function () {
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.RemoveEvents = function () {
        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.off(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.mouseDown = function (e) {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        // //Two fingers operation
        var touches = e.touches;
        if (touches && touches.length == 2) {
            this.m_lastTouchFinger0.x = touches[0].stageX;
            this.m_lastTouchFinger0.y = touches[0].stageY;
            this.m_lastTouchFinger1.x = touches[1].stageX;
            this.m_lastTouchFinger1.y = touches[1].stageY;
            this.m_lastDistance = this.getDistance(touches);
            this.m_preRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
            this.m_isTwoFingersTouch = true;
        }
    };
    CameraMoveScript.prototype.mouseUp = function (e) {
        this.m_isMouseDown = false;
        var touches = e.touches;
        if (touches && touches.length == 0) {
            this.m_isTwoFingersTouch = false;
        }
    };
    CameraMoveScript.prototype.rightMouseDown = function (e) {
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        this.m_isRightMouseButtonDown = true;
    };
    CameraMoveScript.prototype.rightMouseUp = function (e) {
        this.m_isMouseDown = false;
        this.m_isRightMouseButtonDown = false;
    };
    CameraMoveScript.prototype.mouseWheel = function (e) {
        if (e == null)
            return;
        var zoomDelta = e.delta;
        if (this.Is2D) {
            this.m_camera.orthographicVerticalSize += -zoomDelta * this.m_2dWheelSpeed;
            if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
            }
        }
        else {
            this.cameraZoom(zoomDelta);
        }
        if (this.OnMouseWheel)
            this.OnMouseWheel(zoomDelta);
    };
    CameraMoveScript.prototype.mouseMove = function (e) {
        var touches = e.touches;
        if (!touches) {
            this.moveControlByMouse();
        }
        else {
            this.moveCtrlByTouch(touches);
        }
    };
    /**
    *  鼠标模式
    */
    CameraMoveScript.prototype.moveControlByMouse = function () {
        if (this.m_isMouseDown) {
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (!this.m_isRightMouseButtonDown) {
                if (this.m_isLastTouchDoubleFingers) {
                    deltaX = 0;
                    deltaY = 0;
                    this.m_isLastTouchDoubleFingers = false;
                }
                this.moveRight(-this.m_3dMoveSpeed * deltaX);
                this.moveUp(this.m_3dMoveSpeed * deltaY);
                this.RefreshLookAtPoint();
            }
            else {
                if (this.Is2D)
                    return;
                var deltaX_1 = Laya.stage.mouseX - this.m_lastMouseX;
                var deltaY_1 = Laya.stage.mouseY - this.m_lastMouseY;
                this.rotateAround(-deltaY_1 * this.m_3dRotateSpeed, -deltaX_1 * this.m_3dRotateSpeed);
            }
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
        }
    };
    /**
     * 触控模式
     */
    CameraMoveScript.prototype.moveCtrlByTouch = function (touches) {
        if (touches.length == 1 && !this.m_isTwoFingersTouch) {
            //单指触控
            // this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (this.m_isLastTouchDoubleFingers) {
                //如果上一次操作是双指,如双指操作时,抬起一指变单指操作,要做个清零,防止摄像机跳跃
                deltaX = 0;
                deltaY = 0;
                this.m_isLastTouchDoubleFingers = false;
            }
            //let speed: number = 0.06;
            this.moveRight(-this.m_3dMoveSpeed * deltaX);
            this.moveUp(this.m_3dMoveSpeed * deltaY);
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
            this.RefreshLookAtPoint();
        }
        else if (touches.length == 2) {
            if (this.Is2D) {
                var distance2 = this.getDistance(touches);
                var factor2 = 0.1;
                var pinchValue2 = 0;
                pinchValue2 = (distance2 - this.m_lastDistance) * factor2;
                this.m_lastDistance = distance2;
                this.m_camera.orthographicVerticalSize -= pinchValue2;
                if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                    this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
                }
            }
            else {
                //双指触控
                this.m_isTwoFingersTouch = true;
                this.m_isLastTouchDoubleFingers = true;
                var twoFingersDistance = this.getTwoFingersDistance(touches);
                var deltaDistance = Math.abs(twoFingersDistance - this.m_twoFingersDistance);
                this.m_twoFingersDistance = twoFingersDistance;
                //Two fingers drag
                var deltaX0 = touches[0].stageX - this.m_lastTouchFinger0.x;
                var deltaY0 = touches[0].stageY - this.m_lastTouchFinger0.y;
                var deltaX1 = touches[1].stageX - this.m_lastTouchFinger1.x;
                var deltaY1 = touches[1].stageY - this.m_lastTouchFinger1.y;
                var deltaY = (deltaY0 + deltaY1) * 0.5;
                var deltaX = (deltaX0 + deltaX1) * 0.5;
                this.rotateAround(-deltaY * this.m_3dRotateSpeed, 0);
                this.m_lastTouchFinger0.x = touches[0].stageX;
                this.m_lastTouchFinger0.y = touches[0].stageY;
                this.m_lastTouchFinger1.x = touches[1].stageX;
                this.m_lastTouchFinger1.y = touches[1].stageY;
                //Two fingers pinch
                var distance = this.getDistance(touches);
                var factor = 0.01;
                var pinchValue = 0;
                pinchValue += (distance - this.m_lastDistance) * factor;
                this.m_lastDistance = distance;
                var fingerPinchSpeed = 10;
                this.cameraZoom(pinchValue * fingerPinchSpeed);
                if (this.OnDoubleFingersPinch)
                    this.OnDoubleFingersPinch(pinchValue);
                //Two fingers twist
                var nowRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
                var deltaRadian = nowRadian - this.m_preRadian;
                if (deltaRadian != 0) {
                    var twistValue = 180 / Math.PI * deltaRadian;
                    this.rotateAround(0, twistValue * 0.1);
                    this.m_preRadian = nowRadian;
                    if (this.OnDoubleFingersTwist)
                        this.OnDoubleFingersTwist(twistValue);
                }
            }
        }
    };
    /**
     * 向前移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveForward = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.y = 0;
        this.m_tempVector3.z = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向右移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveRight = function (distance) {
        this.m_tempVector3.y = this.m_tempVector3.z = 0;
        this.m_tempVector3.x = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向上移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveUp = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.z = 0;
        this.m_tempVector3.y = distance;
        this.m_camera.transform.translate(this.m_tempVector3, true);
    };
    /**
     * 缩放
     * @param delta
     */
    CameraMoveScript.prototype.cameraZoom = function (delta) {
        // if(this.m_hitObject!=null && !this.m_isRightMouseDown){
        //     this.m_forwardLength = this.getTwoPointsDistance(
        //         this.m_camera.transform.position,this.m_hitPoint);        
        // }
        var currentForwardLength = this.m_forwardLength;
        var distance = -delta * this.m_3dWheelSpeed;
        currentForwardLength += distance;
        if (delta > 0) {
            //拉近
            if (currentForwardLength < this.m_3dMinZoomDistance)
                distance += (this.m_3dMinZoomDistance - currentForwardLength);
        }
        else {
            //拉远
            if (currentForwardLength > this.m_3dMaxZoomDistance)
                distance -= (currentForwardLength - this.m_3dMaxZoomDistance);
        }
        this.moveForward(distance);
        this.m_forwardLength += distance;
    };
    /**
     * 旋转
     * @param angleX
     * @param angleY
     */
    CameraMoveScript.prototype.rotateAround = function (angleX, angleY) {
        var currentRadian = this.m_currentPitchRadian;
        currentRadian -= angleX;
        if (angleX < 0) {
            //下拖动,往上转
            if (currentRadian > this.m_3dMaxCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMaxCameraPitchRadian);
        }
        else {
            //上拖动,往下转
            if (currentRadian < this.m_3dMinCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMinCameraPitchRadian);
        }
        this.m_camera.transform.rotate(new Vector3(angleX, 0, 0));
        this.m_camera.transform.rotate(new Vector3(0, angleY, 0), false);
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var newPosition = new Vector3();
        Vector3.scale(forward, -1, forward);
        newPosition = this.Forward(this.m_lookAtPoint, forward, this.m_forwardLength);
        this.m_camera.transform.position = newPosition;
        this.RefreshPitchRadian();
    };
    CameraMoveScript.prototype._updateRotation = function () {
        if (Math.abs(this.yawPitchRoll.y) < 1.50) {
            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);
            this.tempRotationZ.cloneTo(this.m_camera.transform.localRotation);
            this.m_camera.transform.localRotation = this.m_camera.transform.localRotation;
        }
    };
    //把Math.atan2值域映射到[0, 2pi]
    CameraMoveScript.prototype.atan2Ext = function (y, x) {
        var radian = Math.atan2(y, x);
        if (radian >= 0)
            return radian;
        else
            return radian + 2 * Math.PI;
    };
    CameraMoveScript.prototype.getTwoFingersDistance = function (touches) {
        var fingersDistance = 0;
        var dx = touches[0].stageX - touches[1].stageX;
        var dy = touches[0].stageY - touches[1].stageY;
        fingersDistance = Math.sqrt(dx * dx + dy * dy);
        return fingersDistance;
    };
    CameraMoveScript.prototype.rotateAroundY = function (ponit, radius, angle) {
        var posX = Math.cos(angle) * radius;
        var posY = Math.sin(angle) * radius;
        this.m_camera.transform.position = new Vector3(posX, this.m_camera.transform.position.y, posY);
        this.m_camera.transform.lookAt(ponit, new Vector3(0, 1, 0), false);
    };
    CameraMoveScript.prototype.rotateAroundX = function (ponit, radius, angle) {
        this.m_camera.transform.rotate(new Vector3(angle, 0, 0));
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var position = new Vector3();
        var deltaPosition = new Vector3();
        Vector3.scale(forward, -radius, deltaPosition);
        Vector3.add(ponit, deltaPosition, position);
        this.m_camera.transform.position = position;
    };
    //计算两个触摸点之间的距离
    CameraMoveScript.prototype.getDistance = function (points) {
        var distance = 0;
        if (points && points.length == 2) {
            var dx = points[0].stageX - points[1].stageX;
            var dy = points[0].stageY - points[1].stageY;
            distance = Math.sqrt(dx * dx + dy * dy);
        }
        return distance;
    };
    CameraMoveScript.prototype.getTwoPointsDistance = function (pointA, pointB) {
        var distance = 0;
        var dx = pointA.x - pointB.x;
        var dy = pointA.y - pointB.y;
        var dz = pointA.z - pointB.z;
        distance = Math.sqrt(dx * dx + dy * dy + dz * dz);
        return distance;
    };
    CameraMoveScript.prototype.Forward = function (position, direction, distance) {
        var deltaPosition = new Vector3();
        var newPosition = new Vector3();
        Vector3.scale(direction, distance, deltaPosition);
        Vector3.add(position, deltaPosition, newPosition);
        return newPosition;
    };
    CameraMoveScript.prototype.RefreshLookAtPoint = function () {
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        this.m_lookAtPoint = this.Forward(this.m_camera.transform.position, forward, this.m_forwardLength);
    };
    CameraMoveScript.prototype.RefreshPitchRadian = function () {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_currentPitchRadian = Math.abs(this.yawPitchRoll.y);
    };
    //temp
    CameraMoveScript.prototype.CameraToZeroDistance = function () {
        var dis = 0;
        if (this.Is2D) {
            dis = this.m_camera.orthographicVerticalSize;
        }
        else {
            var camPos = this.m_camera.transform.position;
            dis = Vector3.distance(camPos, Vector3._ZERO);
            this.m_label.text += "摄像机到原点的距离：" + dis;
        }
        //EventManager.Instance().PostEvent(Events.OnCameraDistanceChanged.toString(),dis);    
    };
    /**
     * 绕给定点和轴旋转
     * @param target 旋转对象
     * @param rotatePos 给定点位置
     * @param dir 给定方向
     * @param angle 旋转角度，弧度
     */
    CameraMoveScript.prototype.RotateAround = function (target, rotatePos, dir, angle) {
        //创建一个四元数
        var quaternion = new Laya.Quaternion();
        Laya.Quaternion.createFromAxisAngle(dir, angle, quaternion);
        //计算旋转后的Position
        var deltapos = new Laya.Vector3();
        Laya.Vector3.subtract(target.transform.position, rotatePos, deltapos);
        var changeVector3 = new Laya.Vector3();
        Laya.Vector3.transformQuat(deltapos, quaternion, changeVector3);
        var resultPos = new Laya.Vector3();
        Laya.Vector3.add(changeVector3, rotatePos, resultPos);
        target.transform.position = resultPos;
        //计算旋转后的Rotation
        var newRotation = new Laya.Quaternion();
        Laya.Quaternion.multiply(target.transform.rotation, quaternion, newRotation);
        target.transform.rotation = newRotation;
    };
    /**
    * 根据碰撞对象的位置，设置摄像机的缩放和旋转轴等；
    * 旋转操作，以屏幕中心点发出射线，如果有碰撞对象，则将碰撞点作为旋转中心，如果没有则将（0,0,0）设为旋转中心；
    * 缩放操作，以鼠标位置发出射线，若有碰撞对象，则根据碰撞点与摄像机的距离限制摄像机的最小距离；
    */
    CameraMoveScript.prototype.RayCastHit = function () {
        if (this.m_camera != null && this.m_scene3d != null) {
            this.m_mousePoint.x = Laya.stage.mouseX;
            this.m_mousePoint.y = Laya.stage.mouseY;
            this.m_camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.m_scene3d.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                this.m_hitObject = this.m_hitResult.collider.owner;
                this.m_hitPoint = this.m_hitResult.point;
            }
            else {
                this.m_hitObject = null;
            }
        }
    };
    /**
     * 创建一个Lable
     * @param color
     * @param strokeColor
     */
    CameraMoveScript.prototype.createLabel = function (pos, color, strokeColor) {
        var _color = "#ffffff";
        var _strokeColor = "#000000";
        var _strokeWidth = 1;
        var label = new Label();
        label.font = "Microsoft YaHei";
        label.text = "SAMPLE DEMO";
        label.fontSize = 20;
        if (color) {
            label.color = color;
        }
        else {
            label.color = _color;
        }
        if (strokeColor) {
            label.stroke = _strokeWidth;
            label.strokeColor = _strokeColor;
        }
        label.pos(pos.x, pos.y);
        Laya.stage.addChild(label);
        return label;
    };
    CameraMoveScript.prototype.ShowInfo = function () {
        var pos = this.m_camera.transform.position;
        var rot = this.m_camera.transform.rotationEuler;
        this.m_label.text = "Camera Pos : (" + pos.x.toFixed(2) + "," + pos.y.toFixed(2) + "," + pos.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera Rot : (" + rot.x.toFixed(2) + "," + rot.y.toFixed(2) + "," + rot.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera orthographicVerticalSize : " + this.m_camera.orthographicVerticalSize + "\n";
        this.m_label.text += "Mouse PosX : " + Laya.stage.mouseX + "\n";
        this.m_label.text += "Mouse PosY : " + Laya.stage.mouseY + "\n";
        this.m_label.text += "是否在2D: " + this.Is2D + "\n";
        this.m_label.text += "this forwardlength: " + this.m_forwardLength + "\n";
        this.m_label.text += "3dMoveSpeed : " + this.m_3dMoveSpeed + "\n";
        this.m_label.text += "2dMoveSpeed : " + this.m_2dMoveSpeed + "\n";
    };
    return CameraMoveScript;
}(Laya.Script3D));
exports.default = CameraMoveScript;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var MtTween_1 = require("./MtTween");
var CameraMoveScript_1 = require("./CameraMoveScript");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 10, 18));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        camera.clearColor = new Laya.Vector4(1, 1, 1, 1);
        camera.addComponent(CameraMoveScript_1.default);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        // var box1 = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1)) ;
        // scene.addChild(box1); 
        // box1.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        // var material2: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        // Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function(tex:Laya.Texture2D) {
        // 		material2.albedoTexture = tex;
        // }));
        // box1.meshRenderer.material = material2;
        //添加自定义模型
        _this.box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1));
        scene.addChild(_this.box);
        _this.box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        material.albedoColor = new Laya.Vector4(1, 1, 1, 0.3);
        _this.box.meshRenderer.material = material;
        Laya.stage.on(Laya.Event.KEY_DOWN, _this, function (e) {
            if (e.keyCode == Laya.Keyboard.SPACE) {
                //    let moveT = MtTween.Move(this.box,new Laya.Vector3(10,0,0),1000); moveT.repeat = 0;
                //    let rotateT = MtTween.Rotate(this.box,new Laya.Vector3(0,90,0),1000); rotateT.repeat = 0;
                var scaleT = MtTween_1.default.Scale(_this.box, new Laya.Vector3(5, 5, 5), 1000);
                scaleT.repeat = 0;
                var alphat = MtTween_1.default.Alpha(_this.box, 0.5, 1000); // alphat.repeat = 0;
                // let mat = this.box.meshRenderer.material as Laya.BlinnPhongMaterial;
                // mat.albedoColor = new Laya.Vector4(1,1,1,0.5);
            }
        });
        return _this;
    }
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":6,"./CameraMoveScript":3,"./MtTween":5}],5:[function(require,module,exports){
"use strict";
/**
 * ~封装Laya.Tween，用于适应Sprite3D的缓动效果。
 * ~Laya.Tween之所以不适用于Sprite3D是因为浅拷贝变量无法同步到原对象中去；
 * ~解决方式是：Laya.Tween来改变变量值，用update更新对象对应的变量值；
 * ~封装原生的Laya.Tween，支持所有Ease效果
 */
Object.defineProperty(exports, "__esModule", { value: true });
var Handler = Laya.Handler;
var MtTween = /** @class */ (function () {
    function MtTween() {
    }
    /**
     * 平移，改变Target的位置
     * @param target 目标，必须为Sprite3D
     * @param position 移动的目标位置,Vector3
     * @param duration 移动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Move = function (target, position, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var pos = target.transform.position;
        var tween = Laya.Tween.to(pos, {
            x: position.x,
            y: position.y,
            z: position.z,
            update: new Handler(target, function () {
                this.transform.position = pos;
            })
        }, duration, ease, complete, delay, coverBefore, autoRecover);
        return tween;
    };
    /**
     * 旋转，改变Target的旋转角度
     * @param target 目标，必须为Sprite3D
     * @param rotation 移动的目标旋转角度,Vector3
     * @param duration 移动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Rotate = function (target, rotation, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var rot = target.transform.rotationEuler;
        var tween = Laya.Tween.to(rot, {
            x: rotation.x,
            y: rotation.y,
            z: rotation.z,
            update: new Handler(target, function () {
                this.transform.rotationEuler = rot;
            })
        }, duration, ease, complete, delay, coverBefore, autoRecover);
        return tween;
    };
    /**
     * 缩放 改变Target的缩放值
     * @param target 目标，必须为Sprite3D
     * @param scale 移动的目标缩放,Vector3
     * @param duration 移动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Scale = function (target, scale, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var _scale = target.transform.scale;
        var tween = Laya.Tween.to(_scale, {
            x: scale.x,
            y: scale.y,
            z: scale.z,
            update: new Handler(target, function () {
                this.transform.scale = _scale;
            })
        }, duration, ease, complete, delay, coverBefore, autoRecover);
        return tween;
    };
    /**
     * 透明度 改变Target的透明度，必须将模型的RenderMode改成Transparent
     * @param target Target,必须有MeshRender
     * @param aplha 透明度
     * @param duration 缓动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Alpha = function (target, aplha, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var render = target.meshRenderer;
        if (render && render.material) {
            var mat_1 = render.material;
            mat_1.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            var albedo_1 = mat_1.albedoColor;
            if (albedo_1) {
                var tween_1 = Laya.Tween.to(albedo_1, {
                    w: aplha,
                    update: new Handler(target, function () {
                        this.meshRenderer.material.albedoColor = albedo_1;
                    })
                }, duration, ease, Handler.create(target, function () {
                    if (!tween_1.repeat)
                        mat_1.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_OPAQUE;
                    if (complete)
                        complete.run();
                }), delay, coverBefore, autoRecover);
                return tween_1;
            }
        }
        return null;
    };
    return MtTween;
}());
exports.default = MtTween;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2lkZS9MYXlhQWlySURFX2JldGEgKDEpL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0NhbWVyYU1vdmVTY3JpcHQudHMiLCJzcmMvc2NyaXB0L0dhbWVVSS50cyIsInNyYy9zY3JpcHQvTXRUd2Vlbi50cyIsInNyYy91aS9sYXlhTWF4VUkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLDBDQUFvQztBQUNwQzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBaEJNLGdCQUFLLEdBQVEsR0FBRyxDQUFDO0lBQ2pCLGlCQUFNLEdBQVEsSUFBSSxDQUFDO0lBQ25CLG9CQUFTLEdBQVEsTUFBTSxDQUFDO0lBQ3hCLHFCQUFVLEdBQVEsTUFBTSxDQUFDO0lBQ3pCLGlCQUFNLEdBQVEsS0FBSyxDQUFDO0lBQ3BCLGlCQUFNLEdBQVEsTUFBTSxDQUFDO0lBQ3JCLHFCQUFVLEdBQUssc0JBQXNCLENBQUM7SUFDdEMsb0JBQVMsR0FBUSxFQUFFLENBQUM7SUFDcEIsZ0JBQUssR0FBUyxLQUFLLENBQUM7SUFDcEIsZUFBSSxHQUFTLEtBQUssQ0FBQztJQUNuQix1QkFBWSxHQUFTLEtBQUssQ0FBQztJQUMzQiw0QkFBaUIsR0FBUyxJQUFJLENBQUM7SUFNMUMsaUJBQUM7Q0FsQkQsQUFrQkMsSUFBQTtrQkFsQm9CLFVBQVU7QUFtQi9CLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FB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QUFELENBQUMsRUFUYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFTZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZ1bGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvVGVzdFNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJcclxuaW1wb3J0IFZlY3RvcjMgPSBMYXlhLlZlY3RvcjM7XHJcbmltcG9ydCBWZWN0b3IyID0gTGF5YS5WZWN0b3IyO1xyXG5pbXBvcnQgTGFiZWwgPSBMYXlhLkxhYmVsO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYU1vdmVTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuXHRcdFxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7fVxyXG5cclxuICAgIHByaXZhdGUgbV9jYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwdWJsaWMgIG1fc2NlbmUzZDpMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3RlbXBWZWN0b3IzOlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIG1fbGFzdE1vdXNlWDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fbGFzdE1vdXNlWTpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzTW91c2VEb3duOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIG1faXNSaWdodE1vdXNlRG93bjpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2lzTW91c2VXaGVlbDpib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgbV8zZE1vdmVTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RSb3RhdGVTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RXaGVlbFNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8yZE1vdmVTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fMmRXaGVlbFNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZE1pblpvb21EaXN0YW5jZTpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RNYXhab29tRGlzdGFuY2U6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW46bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW46bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzJkTWluT3J0aG9ncmFwaGljU2l6ZTpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2N1cnJlbnRQaXRjaFJhZGlhbjpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzTGFzdFRvdWNoRG91YmxlRmluZ2Vyczpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2lzUmlnaHRNb3VzZUJ1dHRvbkRvd246Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9sYXN0VG91Y2hGaW5nZXIwOlZlY3RvcjI7XHJcbiAgICBwcml2YXRlIG1fbGFzdFRvdWNoRmluZ2VyMTpWZWN0b3IyO1xyXG5cclxuICAgIHByaXZhdGUgbV9sYXN0RGlzdGFuY2U6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIG1fcHJlUmFkaWFuOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBPbk1vdXNlV2hlZWw6RnVuY3Rpb247XHJcbiAgICBwdWJsaWMgT25TaW5nbGVGaW5nZXJEcmFnOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uRG91YmxlRmluZ2Vyc1BpbmNoOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uRG91YmxlRmluZ2Vyc1R3aXN0OkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uXHJcbiAgIFxyXG4gICAgcHJpdmF0ZSBtX2ZvcndhcmRMZW5ndGg6IG51bWJlciA9IDM7XHJcbiAgICBwcml2YXRlIG1fbG9va0F0UG9pbnQ6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgcHJpdmF0ZSBtX2lzVHdvRmluZ2Vyc1RvdWNoOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG1fdHdvRmluZ2Vyc0Rpc3RhbmNlOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgbV9sYXN0VG91Y2hlczphbnlbXTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgeWF3UGl0Y2hSb2xsOkxheWEuVmVjdG9yMztcclxuICAgIHByb3RlY3RlZCByZXN1bHRSb3RhdGlvbjpMYXlhLlF1YXRlcm5pb247XHJcbiAgICBwcm90ZWN0ZWQgdGVtcFJvdGF0aW9uWjpMYXlhLlF1YXRlcm5pb247XHJcbiAgICBwcm90ZWN0ZWQgdGVtcFJvdGF0aW9uWDpMYXlhLlF1YXRlcm5pb247XHJcbiAgICBwcm90ZWN0ZWQgdGVtcFJvdGF0aW9uWTpMYXlhLlF1YXRlcm5pb247XHJcblxyXG4gICAgcHJpdmF0ZSBtX3JheTpMYXlhLlJheTtcclxuICAgIHByaXZhdGUgbV9oaXRSZXN1bHQ6TGF5YS5IaXRSZXN1bHQ7XHJcbiAgICBwcml2YXRlIG1faGl0T2JqZWN0OkxheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBtX2hpdFBvaW50OkxheWEuVmVjdG9yMztcclxuICAgIFxyXG4gICAgcHVibGljIElzU2hvd0xhYmxlOmJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJvdGVjdGVkIG1fbGFiZWw6IExhYmVsO1xyXG5cclxuICAgIHB1YmxpYyBJczJEOkJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgbV9tb3VzZVBvaW50OlZlY3RvcjI7XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHRoaXMuSW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLkFkZEV2ZW5ldHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5SZWZyZXNoUGl0Y2hSYWRpYW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5SZWZyZXNoTG9va0F0UG9pbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMuSXNTaG93TGFibGUpXHJcbiAgICAgICAgICAgIHRoaXMuU2hvd0luZm8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5SYXlDYXN0SGl0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuQ2FtZXJhVG9aZXJvRGlzdGFuY2UoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgdGhpcy5SZW1vdmVFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgSW5pdCgpe1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEgPSB0aGlzLm93bmVyIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5tX21vdXNlUG9pbnQgPSBuZXcgVmVjdG9yMigpO1xyXG4gICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwID0gbmV3IFZlY3RvcjIoKTtcclxuICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMSA9IG5ldyBWZWN0b3IyKCk7XHJcblxyXG4gICAgICAgIHRoaXMueWF3UGl0Y2hSb2xsID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMucmVzdWx0Um90YXRpb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy50ZW1wUm90YXRpb25aID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMudGVtcFJvdGF0aW9uWCA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnRlbXBSb3RhdGlvblkgPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcblxyXG4gICAgICAgIHRoaXMubV9yYXkgPSBuZXcgTGF5YS5SYXkobmV3IFZlY3RvcjMoKSxuZXcgVmVjdG9yMygpKTtcclxuICAgICAgICB0aGlzLm1faGl0UmVzdWx0ID0gbmV3IExheWEuSGl0UmVzdWx0KCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuSXNTaG93TGFibGUpXHJcbiAgICAgICAgICAgIHRoaXMubV9sYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwobmV3IFZlY3RvcjIoMTAsMTApKVxyXG5cclxuICAgICAgICB0aGlzLkluaXREaWZmUGxhdGZvcm0oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4jeWQjOW5s+WPsOS4jeWQjOmFjee9ru+8jOS7jmpzb27mlofku7bkuK3or7vlj5ZcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIEluaXREaWZmUGxhdGZvcm0oKXtcclxuICAgICAgICBpZihMYXlhLkJyb3dzZXIub25BbmRyb2lkfHxMYXlhLkJyb3dzZXIub25JUGhvbmV8fExheWEuQnJvd3Nlci5vbk1vYmlsZSl7XHJcbiAgICAgXHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1vdmVTcGVlZCA9IDAuMDI7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZFJvdGF0ZVNwZWVkID0gMC4wMDQ7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZFdoZWVsU3BlZWQgPSAyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMubV8yZE1vdmVTcGVlZCA9IDAuMDI7XHJcbiAgICAgICAgICAgIHRoaXMubV8yZFdoZWVsU3BlZWQgPSAyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1pblpvb21EaXN0YW5jZSA9IC0zMDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWF4Wm9vbURpc3RhbmNlID0gMTAwMDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW4gPSAxMCAqIE1hdGguUEkgLyAxODA7IFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNYXhDYW1lcmFQaXRjaFJhZGlhbiA9IDkwICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZSA9IDEyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKExheWEuQnJvd3Nlci5vblBDfHxMYXlhLkJyb3dzZXIub25NYWMpe1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNb3ZlU3BlZWQgPSAwLjA0O1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RSb3RhdGVTcGVlZCA9IDAuMDA0O1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RXaGVlbFNwZWVkID0gMjtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fMmRNb3ZlU3BlZWQgPSAwLjAyO1xyXG4gICAgICAgICAgICB0aGlzLm1fMmRXaGVlbFNwZWVkID0gMjtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNaW5ab29tRGlzdGFuY2UgPSAtMzA7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1heFpvb21EaXN0YW5jZSA9IDEwMDA7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1pbkNhbWVyYVBpdGNoUmFkaWFuID0gMTAgKiBNYXRoLlBJIC8gMTgwOyBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW4gPSA5MCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemUgPSAxMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEFkZEV2ZW5ldHMoKXtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5tb3VzZURvd24pO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfV0hFRUwsIHRoaXMsIHRoaXMubW91c2VXaGVlbCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsIHRoaXMsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuUklHSFRfTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5yaWdodE1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJJR0hUX01PVVNFX1VQLCB0aGlzLCB0aGlzLnJpZ2h0TW91c2VVcCk7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBSZW1vdmVFdmVudHMoKXtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX1VQLCB0aGlzLCB0aGlzLm1vdXNlVXApO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfV0hFRUwsIHRoaXMsIHRoaXMubW91c2VXaGVlbCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9NT1ZFLCB0aGlzLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLnJpZ2h0TW91c2VEb3duKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50LlJJR0hUX01PVVNFX1VQLCB0aGlzLCB0aGlzLnJpZ2h0TW91c2VVcCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBtb3VzZURvd24oZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24uZ2V0WWF3UGl0Y2hSb2xsKHRoaXMueWF3UGl0Y2hSb2xsKTtcclxuICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubV9sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gLy9Ud28gZmluZ2VycyBvcGVyYXRpb25cclxuICAgICAgICB2YXIgdG91Y2hlczogQXJyYXk8YW55PiA9IGUudG91Y2hlcztcclxuICAgICAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnggPSB0b3VjaGVzWzBdLnN0YWdlWDtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueSA9IHRvdWNoZXNbMF0uc3RhZ2VZO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS54ID0gdG91Y2hlc1sxXS5zdGFnZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnkgPSB0b3VjaGVzWzFdLnN0YWdlWTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3REaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2UodG91Y2hlcyk7XHJcbiAgICAgICAgICAgIHRoaXMubV9wcmVSYWRpYW4gPSB0aGlzLmF0YW4yRXh0KHRvdWNoZXNbMF0uc3RhZ2VZIC0gdG91Y2hlc1sxXS5zdGFnZVksIHRvdWNoZXNbMF0uc3RhZ2VYIC0gdG91Y2hlc1sxXS5zdGFnZVgpO1xyXG4gICAgICAgICAgICB0aGlzLm1faXNUd29GaW5nZXJzVG91Y2ggPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIG1vdXNlVXAoZTpMYXlhLkV2ZW50KTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1faXNNb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB2YXIgdG91Y2hlczogQXJyYXk8YW55PiA9IGUudG91Y2hlcztcclxuICAgICAgICBpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9pc1R3b0ZpbmdlcnNUb3VjaCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmlnaHRNb3VzZURvd24oZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9sYXN0TW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuICAgICAgICB0aGlzLm1faXNNb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubV9pc1JpZ2h0TW91c2VCdXR0b25Eb3duID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmlnaHRNb3VzZVVwKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1faXNNb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1faXNSaWdodE1vdXNlQnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBtb3VzZVdoZWVsKGU6TGF5YS5FdmVudCk6dm9pZCB7XHJcbiAgICAgICAgaWYoZSA9PSBudWxsKSByZXR1cm4gO1xyXG4gICAgICAgIGxldCB6b29tRGVsdGE6IG51bWJlciA9IGUuZGVsdGE7XHJcbiAgICAgICAgaWYodGhpcy5JczJEKXsgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSArPSAtem9vbURlbHRhICogdGhpcy5tXzJkV2hlZWxTcGVlZDsgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgPCB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplID0gdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZTtcclxuICAgICAgICAgICAgfSAgICAgICAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFab29tKHpvb21EZWx0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5Pbk1vdXNlV2hlZWwpIFxyXG4gICAgICAgICAgICB0aGlzLk9uTW91c2VXaGVlbCh6b29tRGVsdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBtb3VzZU1vdmUoZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB0b3VjaGVzOiBBcnJheTxhbnk+ID0gZS50b3VjaGVzO1xyXG4gICAgICAgIGlmICghdG91Y2hlcykge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDb250cm9sQnlNb3VzZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUN0cmxCeVRvdWNoKHRvdWNoZXMpOyAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgKiAg6byg5qCH5qih5byPIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgbW92ZUNvbnRyb2xCeU1vdXNlKCl7XHJcbiAgICAgICAgaWYgKHRoaXMubV9pc01vdXNlRG93bikge1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFYOiBudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWCAtIHRoaXMubV9sYXN0TW91c2VYO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFZOiBudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWSAtIHRoaXMubV9sYXN0TW91c2VZO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMubV9pc1JpZ2h0TW91c2VCdXR0b25Eb3duKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2lzTGFzdFRvdWNoRG91YmxlRmluZ2Vycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWCA9IDA7IGRlbHRhWSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2lzTGFzdFRvdWNoRG91YmxlRmluZ2VycyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUmlnaHQoLXRoaXMubV8zZE1vdmVTcGVlZCAqIGRlbHRhWCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVVcCh0aGlzLm1fM2RNb3ZlU3BlZWQgKiBkZWx0YVkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWZyZXNoTG9va0F0UG9pbnQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuSXMyRCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFYOiBudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWCAtIHRoaXMubV9sYXN0TW91c2VYO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWTogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLm1fbGFzdE1vdXNlWTtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXJvdW5kKC1kZWx0YVkgKiB0aGlzLm1fM2RSb3RhdGVTcGVlZCwgLWRlbHRhWCAqIHRoaXMubV8zZFJvdGF0ZVNwZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOinpuaOp+aooeW8j1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgbW92ZUN0cmxCeVRvdWNoKHRvdWNoZXM6QXJyYXk8YW55Pil7XHJcbiAgICAgICAgaWYgKHRvdWNoZXMubGVuZ3RoID09IDEgJiYgIXRoaXMubV9pc1R3b0ZpbmdlcnNUb3VjaCkge1xyXG4gICAgICAgICAgICAvL+WNleaMh+inpuaOp1xyXG4gICAgICAgICAgICAvLyB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbi5nZXRZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFYOiBudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWCAtIHRoaXMubV9sYXN0TW91c2VYO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFZOiBudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWSAtIHRoaXMubV9sYXN0TW91c2VZO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMpIHtcclxuICAgICAgICAgICAgICAgIC8v5aaC5p6c5LiK5LiA5qyh5pON5L2c5piv5Y+M5oyHLOWmguWPjOaMh+aTjeS9nOaXtizmiqzotbfkuIDmjIflj5jljZXmjIfmk43kvZws6KaB5YGa5Liq5riF6Zu2LOmYsuatouaRhOWDj+acuui3s+i3g1xyXG4gICAgICAgICAgICAgICAgZGVsdGFYID0gMDtcclxuICAgICAgICAgICAgICAgIGRlbHRhWSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9sZXQgc3BlZWQ6IG51bWJlciA9IDAuMDY7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVJpZ2h0KC10aGlzLm1fM2RNb3ZlU3BlZWQgKiBkZWx0YVgpO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVVcCh0aGlzLm1fM2RNb3ZlU3BlZWQgKiBkZWx0YVkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5SZWZyZXNoTG9va0F0UG9pbnQoKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvdWNoZXMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5JczJEKXtcclxuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZTI6IG51bWJlciA9IHRoaXMuZ2V0RGlzdGFuY2UodG91Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3IyOiBudW1iZXIgPSAwLjE7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHBpbmNoVmFsdWUyOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHBpbmNoVmFsdWUyID0gKGRpc3RhbmNlMiAtIHRoaXMubV9sYXN0RGlzdGFuY2UpICogZmFjdG9yMjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdERpc3RhbmNlID0gZGlzdGFuY2UyO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplIC09IHBpbmNoVmFsdWUyOyAgIFxyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplIDwgdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgPSB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+WPjOaMh+inpuaOp1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2lzVHdvRmluZ2Vyc1RvdWNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0d29GaW5nZXJzRGlzdGFuY2U6IG51bWJlciA9IHRoaXMuZ2V0VHdvRmluZ2Vyc0Rpc3RhbmNlKHRvdWNoZXMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhRGlzdGFuY2U6IG51bWJlciA9IE1hdGguYWJzKHR3b0ZpbmdlcnNEaXN0YW5jZSAtIHRoaXMubV90d29GaW5nZXJzRGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX3R3b0ZpbmdlcnNEaXN0YW5jZSA9IHR3b0ZpbmdlcnNEaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9Ud28gZmluZ2VycyBkcmFnXHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFYMDogbnVtYmVyID0gdG91Y2hlc1swXS5zdGFnZVggLSB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC54O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWTA6IG51bWJlciA9IHRvdWNoZXNbMF0uc3RhZ2VZIC0gdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVgxOiBudW1iZXIgPSB0b3VjaGVzWzFdLnN0YWdlWCAtIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLng7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFZMTogbnVtYmVyID0gdG91Y2hlc1sxXS5zdGFnZVkgLSB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS55O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWSA9IChkZWx0YVkwICsgZGVsdGFZMSkgKiAwLjU7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFYID0gKGRlbHRhWDAgKyBkZWx0YVgxKSAqIDAuNTtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXJvdW5kKC1kZWx0YVkgKiB0aGlzLm1fM2RSb3RhdGVTcGVlZCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueCA9IHRvdWNoZXNbMF0uc3RhZ2VYO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueSA9IHRvdWNoZXNbMF0uc3RhZ2VZO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueCA9IHRvdWNoZXNbMV0uc3RhZ2VYO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueSA9IHRvdWNoZXNbMV0uc3RhZ2VZO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vVHdvIGZpbmdlcnMgcGluY2hcclxuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZTogbnVtYmVyID0gdGhpcy5nZXREaXN0YW5jZSh0b3VjaGVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvcjogbnVtYmVyID0gMC4wMTtcclxuICAgICAgICAgICAgICAgIGxldCBwaW5jaFZhbHVlOiBudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgcGluY2hWYWx1ZSArPSAoZGlzdGFuY2UgLSB0aGlzLm1fbGFzdERpc3RhbmNlKSAqIGZhY3RvcjtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmdlclBpbmNoU3BlZWQ6IG51bWJlciA9IDEwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFab29tKHBpbmNoVmFsdWUgKiBmaW5nZXJQaW5jaFNwZWVkKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLk9uRG91YmxlRmluZ2Vyc1BpbmNoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuT25Eb3VibGVGaW5nZXJzUGluY2gocGluY2hWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vVHdvIGZpbmdlcnMgdHdpc3RcclxuICAgICAgICAgICAgICAgIGxldCBub3dSYWRpYW46IG51bWJlciA9IHRoaXMuYXRhbjJFeHQodG91Y2hlc1swXS5zdGFnZVkgLSB0b3VjaGVzWzFdLnN0YWdlWSwgdG91Y2hlc1swXS5zdGFnZVggLSB0b3VjaGVzWzFdLnN0YWdlWCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFSYWRpYW46IG51bWJlciA9IG5vd1JhZGlhbiAtIHRoaXMubV9wcmVSYWRpYW47XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGFSYWRpYW4gIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0d2lzdFZhbHVlOiBudW1iZXIgPSAxODAgLyBNYXRoLlBJICogZGVsdGFSYWRpYW47XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBcm91bmQoMCwgdHdpc3RWYWx1ZSAqIDAuMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3ByZVJhZGlhbiA9IG5vd1JhZGlhbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5PbkRvdWJsZUZpbmdlcnNUd2lzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5PbkRvdWJsZUZpbmdlcnNUd2lzdCh0d2lzdFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWQkeWJjeenu+WKqOOAglxyXG4gICAgICogQHBhcmFtIGRpc3RhbmNlIOenu+WKqOi3neemu+OAglxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgbW92ZUZvcndhcmQoZGlzdGFuY2U6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueCA9IHRoaXMubV90ZW1wVmVjdG9yMy55ID0gMDtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueiA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZSh0aGlzLm1fdGVtcFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIOWQkeWPs+enu+WKqOOAglxyXG4gICAgICogQHBhcmFtIGRpc3RhbmNlIOenu+WKqOi3neemu+OAglxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgbW92ZVJpZ2h0KGRpc3RhbmNlOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnkgPSB0aGlzLm1fdGVtcFZlY3RvcjMueiA9IDA7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnggPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUodGhpcy5tX3RlbXBWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHkuIrnp7vliqjjgIJcclxuICAgICAqIEBwYXJhbSBkaXN0YW5jZSDnp7vliqjot53nprvjgIJcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVVcChkaXN0YW5jZTpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy54ID0gdGhpcy5tX3RlbXBWZWN0b3IzLnogPSAwO1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy55ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKHRoaXMubV90ZW1wVmVjdG9yMywgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnvKnmlL5cclxuICAgICAqIEBwYXJhbSBkZWx0YSBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGNhbWVyYVpvb20oZGVsdGE6IG51bWJlcik6IHZvaWR7XHJcbiAgICAgICAgLy8gaWYodGhpcy5tX2hpdE9iamVjdCE9bnVsbCAmJiAhdGhpcy5tX2lzUmlnaHRNb3VzZURvd24pe1xyXG4gICAgICAgIC8vICAgICB0aGlzLm1fZm9yd2FyZExlbmd0aCA9IHRoaXMuZ2V0VHdvUG9pbnRzRGlzdGFuY2UoXHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbix0aGlzLm1faGl0UG9pbnQpOyAgICAgICAgXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGxldCBjdXJyZW50Rm9yd2FyZExlbmd0aDogbnVtYmVyID0gdGhpcy5tX2ZvcndhcmRMZW5ndGg7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlOiBudW1iZXIgPSAtZGVsdGEgKiB0aGlzLm1fM2RXaGVlbFNwZWVkO1xyXG4gICAgICAgIGN1cnJlbnRGb3J3YXJkTGVuZ3RoICs9IGRpc3RhbmNlO1xyXG4gICAgICAgIGlmIChkZWx0YSA+IDApIHtcclxuICAgICAgICAgICAgLy/mi4nov5FcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb3J3YXJkTGVuZ3RoIDwgdGhpcy5tXzNkTWluWm9vbURpc3RhbmNlKSAgXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSArPSAodGhpcy5tXzNkTWluWm9vbURpc3RhbmNlIC0gY3VycmVudEZvcndhcmRMZW5ndGgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aLiei/nFxyXG4gICAgICAgICAgICBpZiAoY3VycmVudEZvcndhcmRMZW5ndGggPiB0aGlzLm1fM2RNYXhab29tRGlzdGFuY2UpICBcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlIC09IChjdXJyZW50Rm9yd2FyZExlbmd0aCAtIHRoaXMubV8zZE1heFpvb21EaXN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubW92ZUZvcndhcmQoZGlzdGFuY2UpO1xyXG4gICAgICAgIHRoaXMubV9mb3J3YXJkTGVuZ3RoICs9IGRpc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5peL6L2sXHJcbiAgICAgKiBAcGFyYW0gYW5nbGVYIFxyXG4gICAgICogQHBhcmFtIGFuZ2xlWSBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHJvdGF0ZUFyb3VuZChhbmdsZVg6IG51bWJlciwgYW5nbGVZOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgY3VycmVudFJhZGlhbjogbnVtYmVyID0gdGhpcy5tX2N1cnJlbnRQaXRjaFJhZGlhbjtcclxuICAgICAgICBjdXJyZW50UmFkaWFuIC09IGFuZ2xlWDtcclxuICAgICAgICBpZiAoYW5nbGVYIDwgMCkge1xyXG4gICAgICAgICAgICAvL+S4i+aLluWKqCzlvoDkuIrovaxcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSYWRpYW4gPiB0aGlzLm1fM2RNYXhDYW1lcmFQaXRjaFJhZGlhbikgIFxyXG4gICAgICAgICAgICAgICAgYW5nbGVYICs9IChjdXJyZW50UmFkaWFuIC0gdGhpcy5tXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5LiK5ouW5YqoLOW+gOS4i+i9rFxyXG4gICAgICAgICAgICBpZiAoY3VycmVudFJhZGlhbiA8IHRoaXMubV8zZE1pbkNhbWVyYVBpdGNoUmFkaWFuKSAgXHJcbiAgICAgICAgICAgICAgICBhbmdsZVggKz0gKGN1cnJlbnRSYWRpYW4gLSB0aGlzLm1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IFZlY3RvcjMoYW5nbGVYLCAwLCAwKSk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBWZWN0b3IzKDAsIGFuZ2xlWSwgMCksIGZhbHNlKTtcclxuXHJcbiAgICAgICAgbGV0IGZvcndhcmQ6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmdldEZvcndhcmQoZm9yd2FyZCk7XHJcbiAgICAgICAgbGV0IG5ld1Bvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICBWZWN0b3IzLnNjYWxlKGZvcndhcmQsIC0xLCBmb3J3YXJkKTtcclxuICAgICAgICBuZXdQb3NpdGlvbiA9IHRoaXMuRm9yd2FyZCh0aGlzLm1fbG9va0F0UG9pbnQsIGZvcndhcmQsIHRoaXMubV9mb3J3YXJkTGVuZ3RoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiA9IG5ld1Bvc2l0aW9uO1xyXG5cclxuICAgICAgICB0aGlzLlJlZnJlc2hQaXRjaFJhZGlhbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZVJvdGF0aW9uKCk6dm9pZCB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMueWF3UGl0Y2hSb2xsLnkpIDwgMS41MCkge1xyXG4gICAgICAgICAgICBMYXlhLlF1YXRlcm5pb24uY3JlYXRlRnJvbVlhd1BpdGNoUm9sbCh0aGlzLnlhd1BpdGNoUm9sbC54LCB0aGlzLnlhd1BpdGNoUm9sbC55LCB0aGlzLnlhd1BpdGNoUm9sbC56LCB0aGlzLnRlbXBSb3RhdGlvblopO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBSb3RhdGlvblouY2xvbmVUbyh0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbiA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5oqKTWF0aC5hdGFuMuWAvOWfn+aYoOWwhOWIsFswLCAycGldXHJcbiAgICBwcm90ZWN0ZWQgYXRhbjJFeHQoeTogbnVtYmVyLCB4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCByYWRpYW46IG51bWJlciA9IE1hdGguYXRhbjIoeSwgeCk7XHJcbiAgICAgICAgaWYgKHJhZGlhbiA+PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gcmFkaWFuO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHJhZGlhbiArIDIgKiBNYXRoLlBJO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRUd29GaW5nZXJzRGlzdGFuY2UodG91Y2hlczogQXJyYXk8YW55Pik6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGZpbmdlcnNEaXN0YW5jZTogbnVtYmVyID0gMDtcclxuICAgICAgICB2YXIgZHg6IG51bWJlciA9IHRvdWNoZXNbMF0uc3RhZ2VYIC0gdG91Y2hlc1sxXS5zdGFnZVg7XHJcbiAgICAgICAgdmFyIGR5OiBudW1iZXIgPSB0b3VjaGVzWzBdLnN0YWdlWSAtIHRvdWNoZXNbMV0uc3RhZ2VZO1xyXG4gICAgICAgIGZpbmdlcnNEaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcbiAgICAgICAgcmV0dXJuIGZpbmdlcnNEaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcm90YXRlQXJvdW5kWShwb25pdDogVmVjdG9yMywgcmFkaXVzOiBudW1iZXIsIGFuZ2xlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zWDogbnVtYmVyID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xyXG4gICAgICAgIGxldCBwb3NZOiBudW1iZXIgPSBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXM7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgVmVjdG9yMyhwb3NYLCB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbi55LCBwb3NZKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb29rQXQocG9uaXQsIG5ldyBWZWN0b3IzKDAsIDEsIDApLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJvdGF0ZUFyb3VuZFgocG9uaXQ6IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyLCBhbmdsZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBWZWN0b3IzKGFuZ2xlLCAwLCAwKSk7XHJcbiAgICAgICAgbGV0IGZvcndhcmQ6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmdldEZvcndhcmQoZm9yd2FyZCk7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTsgICBcclxuICAgICAgICBsZXQgZGVsdGFQb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7ICAgXHJcbiAgICAgICAgVmVjdG9yMy5zY2FsZShmb3J3YXJkLCAtcmFkaXVzLCBkZWx0YVBvc2l0aW9uKTsgXHJcbiAgICAgICAgVmVjdG9yMy5hZGQocG9uaXQsIGRlbHRhUG9zaXRpb24sIHBvc2l0aW9uKTsgXHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvL+iuoeeul+S4pOS4quinpuaRuOeCueS5i+mXtOeahOi3neemu1xyXG4gICAgcHJvdGVjdGVkIGdldERpc3RhbmNlKHBvaW50czogQXJyYXk8YW55Pik6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlOm51bWJlciA9IDA7XHJcbiAgICAgICAgaWYgKHBvaW50cyAmJiBwb2ludHMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgdmFyIGR4OiBudW1iZXIgPSBwb2ludHNbMF0uc3RhZ2VYIC0gcG9pbnRzWzFdLnN0YWdlWDtcclxuICAgICAgICAgICAgdmFyIGR5OiBudW1iZXIgPSBwb2ludHNbMF0uc3RhZ2VZIC0gcG9pbnRzWzFdLnN0YWdlWTtcclxuICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlzdGFuY2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBnZXRUd29Qb2ludHNEaXN0YW5jZShwb2ludEE6IFZlY3RvcjMsIHBvaW50QjogVmVjdG9yMyk6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIGRpc3RhbmNlOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHZhciBkeDogbnVtYmVyID0gcG9pbnRBLnggLSBwb2ludEIueDtcclxuICAgICAgICB2YXIgZHk6IG51bWJlciA9IHBvaW50QS55IC0gcG9pbnRCLnk7XHJcbiAgICAgICAgdmFyIGR6OiBudW1iZXIgPSBwb2ludEEueiAtIHBvaW50Qi56O1xyXG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5ICsgZHogKiBkeik7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBGb3J3YXJkKHBvc2l0aW9uOiBWZWN0b3IzLCBkaXJlY3Rpb246IFZlY3RvcjMsIGRpc3RhbmNlOiBudW1iZXIpOiBWZWN0b3IzIHtcclxuICAgICAgICBsZXQgZGVsdGFQb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7ICAgXHJcbiAgICAgICAgbGV0IG5ld1Bvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTsgICBcclxuICAgICAgICBWZWN0b3IzLnNjYWxlKGRpcmVjdGlvbiwgZGlzdGFuY2UsIGRlbHRhUG9zaXRpb24pOyBcclxuICAgICAgICBWZWN0b3IzLmFkZChwb3NpdGlvbiwgZGVsdGFQb3NpdGlvbiwgbmV3UG9zaXRpb24pOyBcclxuICAgICAgICByZXR1cm4gbmV3UG9zaXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIFJlZnJlc2hMb29rQXRQb2ludCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZm9yd2FyZDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0uZ2V0Rm9yd2FyZChmb3J3YXJkKTtcclxuICAgICAgICB0aGlzLm1fbG9va0F0UG9pbnQgPSB0aGlzLkZvcndhcmQodGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24sIGZvcndhcmQsIHRoaXMubV9mb3J3YXJkTGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgUmVmcmVzaFBpdGNoUmFkaWFuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24uZ2V0WWF3UGl0Y2hSb2xsKHRoaXMueWF3UGl0Y2hSb2xsKTtcclxuICAgICAgICB0aGlzLm1fY3VycmVudFBpdGNoUmFkaWFuID0gTWF0aC5hYnModGhpcy55YXdQaXRjaFJvbGwueSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vdGVtcFxyXG4gICAgcHJvdGVjdGVkIENhbWVyYVRvWmVyb0Rpc3RhbmNlKCl7XHJcbiAgICAgICAgdmFyIGRpczpudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmKHRoaXMuSXMyRCl7XHJcbiAgICAgICAgICAgIGRpcyA9IHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBsZXQgY2FtUG9zID0gdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgICAgIGRpcyA9IFZlY3RvcjMuZGlzdGFuY2UoY2FtUG9zLFZlY3RvcjMuX1pFUk8pO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIuaRhOWDj+acuuWIsOWOn+eCueeahOi3neemu++8mlwiICsgZGlzOyAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PbkNhbWVyYURpc3RhbmNlQ2hhbmdlZC50b1N0cmluZygpLGRpcyk7ICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5Xnu5nlrprngrnlkozovbTml4vovaxcclxuICAgICAqIEBwYXJhbSB0YXJnZXQg5peL6L2s5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gcm90YXRlUG9zIOe7meWumueCueS9jee9rlxyXG4gICAgICogQHBhcmFtIGRpciDnu5nlrprmlrnlkJFcclxuICAgICAqIEBwYXJhbSBhbmdsZSDml4vovazop5LluqbvvIzlvKfluqZcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIFJvdGF0ZUFyb3VuZCh0YXJnZXQ6TGF5YS5TcHJpdGUzRCxyb3RhdGVQb3M6TGF5YS5WZWN0b3IzLGRpcjpMYXlhLlZlY3RvcjMsYW5nbGU6bnVtYmVyKXtcclxuICAgICAgICAvL+WIm+W7uuS4gOS4quWbm+WFg+aVsFxyXG4gICAgICAgIGxldCBxdWF0ZXJuaW9uID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIExheWEuUXVhdGVybmlvbi5jcmVhdGVGcm9tQXhpc0FuZ2xlKGRpcixhbmdsZSxxdWF0ZXJuaW9uKTtcclxuXHJcbiAgICAgICAgLy/orqHnrpfml4vovazlkI7nmoRQb3NpdGlvblxyXG4gICAgICAgIGxldCBkZWx0YXBvcyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICBMYXlhLlZlY3RvcjMuc3VidHJhY3QodGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbixyb3RhdGVQb3MsZGVsdGFwb3MpO1xyXG4gICAgICAgIGxldCBjaGFuZ2VWZWN0b3IzIDpMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLnRyYW5zZm9ybVF1YXQoZGVsdGFwb3MscXVhdGVybmlvbixjaGFuZ2VWZWN0b3IzKTtcclxuICAgICAgICBsZXQgcmVzdWx0UG9zICA9IG5ldyBMYXlhLlZlY3RvcjMoKTsgXHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLmFkZChjaGFuZ2VWZWN0b3IzLHJvdGF0ZVBvcyxyZXN1bHRQb3MpO1xyXG4gICAgICAgIHRhcmdldC50cmFuc2Zvcm0ucG9zaXRpb24gPSByZXN1bHRQb3M7XHJcblxyXG4gICAgICAgIC8v6K6h566X5peL6L2s5ZCO55qEUm90YXRpb25cclxuICAgICAgICBsZXQgbmV3Um90YXRpb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLm11bHRpcGx5KHRhcmdldC50cmFuc2Zvcm0ucm90YXRpb24scXVhdGVybmlvbixuZXdSb3RhdGlvbik7XHJcbiAgICAgICAgdGFyZ2V0LnRyYW5zZm9ybS5yb3RhdGlvbiA9IG5ld1JvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgICAvKipcclxuICAgICAqIOagueaNrueisOaSnuWvueixoeeahOS9jee9ru+8jOiuvue9ruaRhOWDj+acuueahOe8qeaUvuWSjOaXi+i9rOi9tOetie+8m1xyXG4gICAgICog5peL6L2s5pON5L2c77yM5Lul5bGP5bmV5Lit5b+D54K55Y+R5Ye65bCE57q/77yM5aaC5p6c5pyJ56Kw5pKe5a+56LGh77yM5YiZ5bCG56Kw5pKe54K55L2c5Li65peL6L2s5Lit5b+D77yM5aaC5p6c5rKh5pyJ5YiZ5bCG77yIMCwwLDDvvInorr7kuLrml4vovazkuK3lv4PvvJtcclxuICAgICAqIOe8qeaUvuaTjeS9nO+8jOS7pem8oOagh+S9jee9ruWPkeWHuuWwhOe6v++8jOiLpeacieeisOaSnuWvueixoe+8jOWImeagueaNrueisOaSnueCueS4juaRhOWDj+acuueahOi3neemu+mZkOWItuaRhOWDj+acuueahOacgOWwj+i3neemu++8m1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgUmF5Q2FzdEhpdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubV9jYW1lcmEhPW51bGwgJiYgdGhpcy5tX3NjZW5lM2QhPW51bGwpe1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tX21vdXNlUG9pbnQueCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbW91c2VQb2ludC55ID0gTGF5YS5zdGFnZS5tb3VzZVk7ICAgXHJcblxyXG4gICAgICAgICAgICB0aGlzLm1fY2FtZXJhLnZpZXdwb3J0UG9pbnRUb1JheSh0aGlzLm1fbW91c2VQb2ludCx0aGlzLm1fcmF5KTtcclxuICAgICAgICAgICAgdGhpcy5tX3NjZW5lM2QucGh5c2ljc1NpbXVsYXRpb24ucmF5Q2FzdCh0aGlzLm1fcmF5LHRoaXMubV9oaXRSZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5tX2hpdFJlc3VsdC5zdWNjZWVkZWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2hpdE9iamVjdCA9IHRoaXMubV9oaXRSZXN1bHQuY29sbGlkZXIub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faGl0UG9pbnQgPSB0aGlzLm1faGl0UmVzdWx0LnBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faGl0T2JqZWN0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuS4gOS4qkxhYmxlXHJcbiAgICAgKiBAcGFyYW0gY29sb3IgXHJcbiAgICAgKiBAcGFyYW0gc3Ryb2tlQ29sb3IgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlTGFiZWwocG9zOkxheWEuVmVjdG9yMiwgY29sb3I/OiBzdHJpbmcsIHN0cm9rZUNvbG9yPzogc3RyaW5nKTogTGFiZWwge1xyXG4gICAgICAgIGNvbnN0IF9jb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIGNvbnN0IF9zdHJva2VDb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gICAgICAgIGNvbnN0IF9zdHJva2VXaWR0aDogbnVtYmVyID0gMTtcclxuXHJcbiAgICAgICAgdmFyIGxhYmVsOiBMYWJlbCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxhYmVsLmZvbnQgPSBcIk1pY3Jvc29mdCBZYUhlaVwiO1xyXG4gICAgICAgIGxhYmVsLnRleHQgPSBcIlNBTVBMRSBERU1PXCI7XHJcbiAgICAgICAgbGFiZWwuZm9udFNpemUgPSAyMDtcclxuICAgICAgICBpZihjb2xvcil7XHJcbiAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gX2NvbG9yO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICAgICAgaWYgKHN0cm9rZUNvbG9yKSB7XHJcbiAgICAgICAgICAgIGxhYmVsLnN0cm9rZSA9IF9zdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgbGFiZWwuc3Ryb2tlQ29sb3IgPSBfc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhYmVsLnBvcyhwb3MueCxwb3MueSk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFNob3dJbmZvKCl7XHJcbiAgICAgICAgdmFyIHBvczpMYXlhLlZlY3RvcjMgPSB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICB2YXIgcm90OkxheWEuVmVjdG9yMyA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgPSBcIkNhbWVyYSBQb3MgOiAoXCIgKyBwb3MueC50b0ZpeGVkKDIpICsgXCIsXCIgKyBwb3MueS50b0ZpeGVkKDIpICsgXCIsXCIgKyBwb3Muei50b0ZpeGVkKDIpICsgXCIpXCIgKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwiQ2FtZXJhIFJvdCA6IChcIiArIHJvdC54LnRvRml4ZWQoMikgKyBcIixcIiArIHJvdC55LnRvRml4ZWQoMikgKyBcIixcIiArIHJvdC56LnRvRml4ZWQoMikgKyBcIilcIisgXCJcXG5cIjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIkNhbWVyYSBvcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgOiBcIiArIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwiTW91c2UgUG9zWCA6IFwiICsgTGF5YS5zdGFnZS5tb3VzZVgrIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJNb3VzZSBQb3NZIDogXCIgKyBMYXlhLnN0YWdlLm1vdXNlWSsgXCJcXG5cIjtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCLmmK/lkKblnKgyRDogXCIgKyB0aGlzLklzMkQgKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwidGhpcyBmb3J3YXJkbGVuZ3RoOiBcIiArIHRoaXMubV9mb3J3YXJkTGVuZ3RoICsgXCJcXG5cIjtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCIzZE1vdmVTcGVlZCA6IFwiICsgICB0aGlzLm1fM2RNb3ZlU3BlZWQrIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCIyZE1vdmVTcGVlZCA6IFwiICsgICB0aGlzLm1fMmRNb3ZlU3BlZWQrIFwiXFxuXCI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IE10VHdlZW4gZnJvbSBcIi4vTXRUd2VlblwiO1xyXG5pbXBvcnQgQ2FtZXJhTW92ZVNjcmlwdCBmcm9tIFwiLi9DYW1lcmFNb3ZlU2NyaXB0XCI7XHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuXHJcbiAgICBib3g6TGF5YS5NZXNoU3ByaXRlM0Q7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHRcdFxyXG4gICAgICAgIC8v5re75YqgM0TlnLrmma9cclxuICAgICAgICB2YXIgc2NlbmU6IExheWEuU2NlbmUzRCA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKSBhcyBMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgICAgIC8v5re75Yqg54Wn55u45py6XHJcbiAgICAgICAgdmFyIGNhbWVyYTogTGF5YS5DYW1lcmEgPSAoc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuQ2FtZXJhKDAsIDAuMSwgMTAwKSkpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgMTAsIDE4KSk7XHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygtMzAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgY2FtZXJhLmNsZWFyQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDEsMSwxLDEpO1xyXG4gICAgICAgIGNhbWVyYS5hZGRDb21wb25lbnQoQ2FtZXJhTW92ZVNjcmlwdClcclxuXHJcbiAgICAgICAgLy/mt7vliqDmlrnlkJHlhYlcclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZChuZXcgTGF5YS5WZWN0b3IzKDEsIC0xLCAwKSk7XHJcblxyXG4gICAgICAgIC8vIHZhciBib3gxID0gbmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVCb3goMSwgMSwgMSkpIDtcclxuICAgICAgICAvLyBzY2VuZS5hZGRDaGlsZChib3gxKTsgXHJcbiAgICAgICAgLy8gYm94MS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgNDUsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIC8vIHZhciBtYXRlcmlhbDI6IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcblx0XHQvLyBMYXlhLlRleHR1cmUyRC5sb2FkKFwicmVzL2xheWFib3gucG5nXCIsIExheWEuSGFuZGxlci5jcmVhdGUobnVsbCwgZnVuY3Rpb24odGV4OkxheWEuVGV4dHVyZTJEKSB7XHJcblx0XHQvLyBcdFx0bWF0ZXJpYWwyLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcbiAgICAgICAgLy8gfSkpO1xyXG4gICAgICAgIC8vIGJveDEubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWwyO1xyXG5cclxuXHJcbiAgICAgICAgLy/mt7vliqDoh6rlrprkuYnmqKHlnotcclxuICAgICAgICB0aGlzLmJveCA9IG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQm94KDEsIDEsIDEpKSA7XHJcbiAgICAgICAgc2NlbmUuYWRkQ2hpbGQodGhpcy5ib3gpOyBcclxuICAgICAgICB0aGlzLmJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgNDUsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBtYXRlcmlhbDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuXHRcdExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpIHtcclxuXHRcdFx0XHRtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBtYXRlcmlhbC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMSwxLDEsMC4zKTtcclxuICAgICAgICB0aGlzLmJveCAubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgICBcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LktFWV9ET1dOLHRoaXMsKGU6TGF5YS5FdmVudCk9PntcclxuICAgICAgICAgICAgaWYoZS5rZXlDb2RlID09IExheWEuS2V5Ym9hcmQuU1BBQ0Upe1xyXG4gICAgICAgICAgICAvLyAgICBsZXQgbW92ZVQgPSBNdFR3ZWVuLk1vdmUodGhpcy5ib3gsbmV3IExheWEuVmVjdG9yMygxMCwwLDApLDEwMDApOyBtb3ZlVC5yZXBlYXQgPSAwO1xyXG4gICAgICAgICAgICAvLyAgICBsZXQgcm90YXRlVCA9IE10VHdlZW4uUm90YXRlKHRoaXMuYm94LG5ldyBMYXlhLlZlY3RvcjMoMCw5MCwwKSwxMDAwKTsgcm90YXRlVC5yZXBlYXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlVCA9IE10VHdlZW4uU2NhbGUodGhpcy5ib3gsbmV3IExheWEuVmVjdG9yMyg1LDUsNSksMTAwMCk7IHNjYWxlVC5yZXBlYXQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBhbHBoYXQgPSAgTXRUd2Vlbi5BbHBoYSh0aGlzLmJveCwwLjUsMTAwMCk7Ly8gYWxwaGF0LnJlcGVhdCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IG1hdCA9IHRoaXMuYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCBhcyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcclxuICAgICAgICAgICAgICAgIC8vIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMSwxLDEsMC41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIH7lsIHoo4VMYXlhLlR3ZWVu77yM55So5LqO6YCC5bqUU3ByaXRlM0TnmoTnvJPliqjmlYjmnpzjgIJcclxuICogfkxheWEuVHdlZW7kuYvmiYDku6XkuI3pgILnlKjkuo5TcHJpdGUzROaYr+WboOS4uua1heaLt+i0neWPmOmHj+aXoOazleWQjOatpeWIsOWOn+WvueixoeS4reWOu++8m1xyXG4gKiB+6Kej5Yaz5pa55byP5piv77yaTGF5YS5Ud2VlbuadpeaUueWPmOWPmOmHj+WAvO+8jOeUqHVwZGF0ZeabtOaWsOWvueixoeWvueW6lOeahOWPmOmHj+WAvO+8m1xyXG4gKiB+5bCB6KOF5Y6f55Sf55qETGF5YS5Ud2Vlbu+8jOaUr+aMgeaJgOaciUVhc2XmlYjmnpxcclxuICovXHJcblxyXG5pbXBvcnQgVmVjdG9yMyA9IExheWEuVmVjdG9yMztcclxuaW1wb3J0IEhhbmRsZXIgPSBMYXlhLkhhbmRsZXI7XHJcbmltcG9ydCBTcHJpdGUzRCA9IExheWEuU3ByaXRlM0Q7XHJcbmltcG9ydCBNZXNoU3ByaXRlM0QgPSBMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE10VHdlZW57XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlubPnp7vvvIzmlLnlj5hUYXJnZXTnmoTkvY3nva5cclxuICAgICAqIEBwYXJhbSB0YXJnZXQg55uu5qCH77yM5b+F6aG75Li6U3ByaXRlM0RcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiDnp7vliqjnmoTnm67moIfkvY3nva4sVmVjdG9yM1xyXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIOenu+WKqOeahOaXtumXtFxyXG4gICAgICogQHBhcmFtIGVhc2Ug57yT5Yqo5pa55byPXHJcbiAgICAgKiBAcGFyYW0gY29tcGxldGUg5a6M5oiQ5Zue5o6JXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkg5bu26L+f57yT5Yqo5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gY292ZXJCZWZvcmUg5piv5ZCm6KaG55uW5LmL5YmN55qE57yT5Yqo44CCXHJcbiAgICAgKiBAcGFyYW0gYXV0b1JlY292ZXIg5piv5ZCm6Ieq5Yqo5Zue5pS277yM6buY6K6k5Li6dHJ1Ze+8jOe8k+WKqOe7k+adn+S5i+WQjuiHquWKqOWbnuaUtuWIsOWvueixoeaxoOOAglxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgTW92ZSh0YXJnZXQ6U3ByaXRlM0QscG9zaXRpb246VmVjdG9yMyxkdXJhdGlvbjpudW1iZXIsZWFzZT86RnVuY3Rpb24sY29tcGxldGU/OkhhbmRsZXIsZGVsYXk/Om51bWJlcixjb3ZlckJlZm9yZT86Ym9vbGVhbixhdXRvUmVjb3Zlcj86Ym9vbGVhbik6TGF5YS5Ud2VlbntcclxuICAgICAgICBpZih0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHBvcyA9IHRhcmdldC50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgbGV0IHR3ZWVuID0gTGF5YS5Ud2Vlbi50byhwb3Mse1xyXG4gICAgICAgICAgICAgICAgeDpwb3NpdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgeTpwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgejpwb3NpdGlvbi56LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOm5ldyBIYW5kbGVyKHRhcmdldCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxkdXJhdGlvbixlYXNlLGNvbXBsZXRlLGRlbGF5LGNvdmVyQmVmb3JlLGF1dG9SZWNvdmVyKTtcclxuICAgICAgIHJldHVybiB0d2VlbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaXi+i9rO+8jOaUueWPmFRhcmdldOeahOaXi+i9rOinkuW6plxyXG4gICAgICogQHBhcmFtIHRhcmdldCDnm67moIfvvIzlv4XpobvkuLpTcHJpdGUzRFxyXG4gICAgICogQHBhcmFtIHJvdGF0aW9uIOenu+WKqOeahOebruagh+aXi+i9rOinkuW6pixWZWN0b3IzXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24g56e75Yqo55qE5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gZWFzZSDnvJPliqjmlrnlvI9cclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDlrozmiJDlm57mjolcclxuICAgICAqIEBwYXJhbSBkZWxheSDlu7bov5/nvJPliqjml7bpl7RcclxuICAgICAqIEBwYXJhbSBjb3ZlckJlZm9yZSDmmK/lkKbopobnm5bkuYvliY3nmoTnvJPliqjjgIJcclxuICAgICAqIEBwYXJhbSBhdXRvUmVjb3ZlciDmmK/lkKboh6rliqjlm57mlLbvvIzpu5jorqTkuLp0cnVl77yM57yT5Yqo57uT5p2f5LmL5ZCO6Ieq5Yqo5Zue5pS25Yiw5a+56LGh5rGg44CCXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBSb3RhdGUodGFyZ2V0OlNwcml0ZTNELHJvdGF0aW9uOlZlY3RvcjMsZHVyYXRpb246bnVtYmVyLGVhc2U/OkZ1bmN0aW9uLGNvbXBsZXRlPzpIYW5kbGVyLGRlbGF5PzpudW1iZXIsY292ZXJCZWZvcmU/OmJvb2xlYW4sYXV0b1JlY292ZXI/OmJvb2xlYW4pOkxheWEuVHdlZW57XHJcbiAgICAgICAgaWYodGFyZ2V0ID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCByb3QgPSB0YXJnZXQudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXI7XHJcbiAgICAgICAgbGV0IHR3ZWVuID0gTGF5YS5Ud2Vlbi50byhyb3Qse1xyXG4gICAgICAgICAgICAgICAgeDpyb3RhdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgeTpyb3RhdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgejpyb3RhdGlvbi56LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOm5ldyBIYW5kbGVyKHRhcmdldCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXIgPSByb3Q7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LGR1cmF0aW9uLGVhc2UsY29tcGxldGUsZGVsYXksY292ZXJCZWZvcmUsYXV0b1JlY292ZXIpO1xyXG4gICAgICAgcmV0dXJuIHR3ZWVuO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe8qeaUviDmlLnlj5hUYXJnZXTnmoTnvKnmlL7lgLxcclxuICAgICAqIEBwYXJhbSB0YXJnZXQg55uu5qCH77yM5b+F6aG75Li6U3ByaXRlM0RcclxuICAgICAqIEBwYXJhbSBzY2FsZSDnp7vliqjnmoTnm67moIfnvKnmlL4sVmVjdG9yM1xyXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIOenu+WKqOeahOaXtumXtFxyXG4gICAgICogQHBhcmFtIGVhc2Ug57yT5Yqo5pa55byPXHJcbiAgICAgKiBAcGFyYW0gY29tcGxldGUg5a6M5oiQ5Zue5o6JXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkg5bu26L+f57yT5Yqo5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gY292ZXJCZWZvcmUg5piv5ZCm6KaG55uW5LmL5YmN55qE57yT5Yqo44CCXHJcbiAgICAgKiBAcGFyYW0gYXV0b1JlY292ZXIg5piv5ZCm6Ieq5Yqo5Zue5pS277yM6buY6K6k5Li6dHJ1Ze+8jOe8k+WKqOe7k+adn+S5i+WQjuiHquWKqOWbnuaUtuWIsOWvueixoeaxoOOAglxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgU2NhbGUodGFyZ2V0OlNwcml0ZTNELHNjYWxlOlZlY3RvcjMsZHVyYXRpb246bnVtYmVyLGVhc2U/OkZ1bmN0aW9uLGNvbXBsZXRlPzpIYW5kbGVyLGRlbGF5PzpudW1iZXIsY292ZXJCZWZvcmU/OmJvb2xlYW4sYXV0b1JlY292ZXI/OmJvb2xlYW4pOkxheWEuVHdlZW57XHJcbiAgICAgICAgaWYodGFyZ2V0ID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCBfc2NhbGUgPSB0YXJnZXQudHJhbnNmb3JtLnNjYWxlO1xyXG4gICAgICAgIGxldCB0d2VlbiA9IExheWEuVHdlZW4udG8oX3NjYWxlLHtcclxuICAgICAgICAgICAgICAgIHg6c2NhbGUueCxcclxuICAgICAgICAgICAgICAgIHk6c2NhbGUueSxcclxuICAgICAgICAgICAgICAgIHo6c2NhbGUueixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTpuZXcgSGFuZGxlcih0YXJnZXQsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZSA9IF9zY2FsZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sZHVyYXRpb24sZWFzZSxjb21wbGV0ZSxkZWxheSxjb3ZlckJlZm9yZSxhdXRvUmVjb3Zlcik7XHJcbiAgICAgICByZXR1cm4gdHdlZW47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDpgI/mmI7luqYg5pS55Y+YVGFyZ2V055qE6YCP5piO5bqm77yM5b+F6aG75bCG5qih5Z6L55qEUmVuZGVyTW9kZeaUueaIkFRyYW5zcGFyZW50XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFRhcmdldCzlv4XpobvmnIlNZXNoUmVuZGVyXHJcbiAgICAgKiBAcGFyYW0gYXBsaGEg6YCP5piO5bqmXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24g57yT5Yqo55qE5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gZWFzZSDnvJPliqjmlrnlvI9cclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDlrozmiJDlm57mjolcclxuICAgICAqIEBwYXJhbSBkZWxheSDlu7bov5/nvJPliqjml7bpl7RcclxuICAgICAqIEBwYXJhbSBjb3ZlckJlZm9yZSDmmK/lkKbopobnm5bkuYvliY3nmoTnvJPliqjjgIJcclxuICAgICAqIEBwYXJhbSBhdXRvUmVjb3ZlciDmmK/lkKboh6rliqjlm57mlLbvvIzpu5jorqTkuLp0cnVl77yM57yT5Yqo57uT5p2f5LmL5ZCO6Ieq5Yqo5Zue5pS25Yiw5a+56LGh5rGg44CCXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBBbHBoYSh0YXJnZXQ6TWVzaFNwcml0ZTNELGFwbGhhOm51bWJlcixkdXJhdGlvbjpudW1iZXIsZWFzZT86RnVuY3Rpb24sY29tcGxldGU/OkhhbmRsZXIsZGVsYXk/Om51bWJlcixjb3ZlckJlZm9yZT86Ym9vbGVhbixhdXRvUmVjb3Zlcj86Ym9vbGVhbik6TGF5YS5Ud2VlbntcclxuICAgICAgICBpZih0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHJlbmRlcjpMYXlhLk1lc2hSZW5kZXJlciA9IHRhcmdldC5tZXNoUmVuZGVyZXI7XHJcbiAgICAgICAgaWYocmVuZGVyICYmIHJlbmRlci5tYXRlcmlhbCl7XHJcbiAgICAgICAgICAgIGxldCBtYXQ6TGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSByZW5kZXIubWF0ZXJpYWwgIGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgICAgICBtYXQucmVuZGVyTW9kZSA9IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsLlJFTkRFUk1PREVfVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgIGxldCBhbGJlZG8gPSBtYXQuYWxiZWRvQ29sb3I7XHJcbiAgICAgICAgICAgIGlmKGFsYmVkbyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHdlZW4gPSBMYXlhLlR3ZWVuLnRvKGFsYmVkbyx7IFxyXG4gICAgICAgICAgICAgICAgICAgIHc6YXBsaGEsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOm5ldyBIYW5kbGVyKHRhcmdldCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc2hSZW5kZXJlci5tYXRlcmlhbC5hbGJlZG9Db2xvciA9IGFsYmVkbztcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSxkdXJhdGlvbixlYXNlLEhhbmRsZXIuY3JlYXRlKHRhcmdldCwoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0d2Vlbi5yZXBlYXQpIG1hdC5yZW5kZXJNb2RlID0gTGF5YS5CbGlublBob25nTWF0ZXJpYWwuUkVOREVSTU9ERV9PUEFRVUU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY29tcGxldGUpIGNvbXBsZXRlLnJ1bigpO1xyXG4gICAgICAgICAgICAgICAgfSksZGVsYXksY292ZXJCZWZvcmUsYXV0b1JlY292ZXIpOyAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9UZXN0U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudGVzdC5UZXN0U2NlbmVVSVwiLFRlc3RTY2VuZVVJKTtcclxufVxyIl19
